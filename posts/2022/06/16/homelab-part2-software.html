<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="preconnect" href="https://cdnjs.cloudflare.com"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"><title> Zelenyy's Blog</title><link rel="shortcut icon" href="/img/favicon.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="sitemap" type="application/xml" title="sitemap" href="http://zelenyy.info/sitemap.xml" /><link rel="preconnect" href="https://fonts.gstatic.com"><link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;700&family=Fira+Code:ital,wght@0,200;0,300;0,400;0,600;0,700;0,900;1,300;1,400;1,500;1,600;1,700;1,900&display=swap" rel="stylesheet"><style> *,:after,:before{box-sizing:border-box;background-color:inherit;color:inherit;margin:0;padding:0}html{font-size:15px}html,html[data-theme="light"]{--text-font: DM Sans;--source-code-font: Fira Code;--very-light-text-color: rgb(222, 222, 222);--light-text-color: rgb(89, 183, 255);--medium-text-color: #555;--main-text-color: #333;--highlight-text-color: #6cb4a0;--dark-text-color: #393e46;--link-color: rgb(50, 87, 209);--code-bg-color: rgb(245, 245, 245);background-color:#fff}html #theme-toggle div,html[data-theme="light"] #theme-toggle div{position:relative;width:24px;height:24px;border-radius:50%;border:none;background-color:var(--theme-ui-colors-transparent, transparent);transform:scale(1);transition:all 0.45s ease 0s;overflow:hidden;box-shadow:inset 8px -8px 0px 0px var(--theme-ui-colors-toggleIcon, #2d3748)}html #theme-toggle div::before,html[data-theme="light"] #theme-toggle div::before{content:"";position:absolute;right:-9px;top:-9px;height:24px;width:24px;border:none;border-radius:50%;transform:translate(0px, 0px);opacity:1;transition:transform 0.45s ease 0s}html #theme-toggle div::after,html[data-theme="light"] #theme-toggle div::after{content:"";width:8px;height:8px;border-radius:50%;margin:-4px 0px 0px -4px;position:absolute;top:50%;left:50%;box-shadow:0 -23px 0 var(--theme-ui-colors-toggleIcon, #2d3748),0 23px 0 var(--theme-ui-colors-toggleIcon, #2d3748),23px 0 0 var(--theme-ui-colors-toggleIcon, #2d3748),-23px 0 0 var(--theme-ui-colors-toggleIcon, #2d3748),15px 15px 0 var(--theme-ui-colors-toggleIcon, #2d3748),-15px 15px 0 var(--theme-ui-colors-toggleIcon, #2d3748),15px -15px 0 var(--theme-ui-colors-toggleIcon, #2d3748),-15px -15px 0 var(--theme-ui-colors-toggleIcon, #2d3748);transform:scale(0);transition:all 0.35s ease 0s}body{font-family:var(--text-font),monospace;text-rendering:optimizeLegibility;line-height:1.75;color:var(--main-text-color)}a{color:var(--link-color);text-decoration:none}.post p{margin:1rem 0}.meta{margin:1.4rem 0}code,pre{background:var(--code-bg-color);margin:0 -27px;border-width:1px}code{font-family:var(--source-code-font);margin:unset;font-size:0.8rem;color:var(--highlight-text-color)}pre code{background-color:unset;color:unset}pre{border-width:3px;padding:0.8rem;white-space:pre-wrap;border-style:none none none solid;border-color:var(--light-text-color)}img{max-width:100%}hr{background:var(--light-text-color);height:1px;border:0}header{flex-basis:10rem;flex-grow:1;position:relative}header a{text-decoration:none}header li{margin-bottom:0.2rem;text-align:right;margin-right:2rem}header a.active{font-weight:bold}header,section{padding:1rem 0}section{margin-top:4rem}.greetings{display:inline-flex;width:100%;align-items:center;justify-content:space-between}.greetings>img{width:150px}blockquote{font-style:italic;border-left:5px solid var(--dark-text-color);padding-left:1rem}h1{color:var(--main-text-color);text-transform:uppercase;font-size:3rem;font-weight:bold;margin-bottom:1.5rem}h2,h3,h4,h5{font-weight:bold;margin-bottom:1.5rem;font-size:2rem}h2{font-size:1.8rem}h3{font-size:1.6rem}h4{font-size:1.4rem}h5{font-size:1.2rem}h6{font-size:1rem}section h1:first-child{margin-top:0}strong,b{font-weight:bold}.photos ul{list-style:none}.photos li{margin-bottom:1.5rem}.photo picture,.project picture{margin-bottom:0.5rem}.posts{margin-top:1rem}.posts>h3{font-weight:500}.post ul{margin:0px;margin:0px 0px 10px 10px}.post ol{margin:0px;margin:0px 0px 10px 15px}.posts li{align-items:center;display:flex;justify-content:space-between;margin-bottom:0.5rem}.posts li a,.posts li div,.projects li a{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:bold}.posts li time,.projects li time{padding-left:1rem;white-space:nowrap;font-variant-numeric:tabular-nums}time{color:var(--main-text-color)}.post>h1.title{font-size:2.5rem;margin-top:0;margin-bottom:0}.post>time{margin-bottom:0;margin-top:3rem}.highlight{margin:0px}.intro_main{min-height:92vh}main{display:flex;max-width:47rem;margin:-5rem auto 0;padding:2.4rem 2rem;flex-direction:column;position:relative;flex-grow:1}.flex-row-between{display:flex;flex-direction:row;justify-content:space-between}.social-footer{padding:1rem;position:absolute;text-align:center;width:100%;color:#92B359;text-align:center;border-style:solid none none none;border-color:#367BB3;border-width:1px}.social-footer .social-footer-icons .fa{font-size:1.3rem;color:#a9a9a9}.social-footer .social-footer-icons .fa:hover{color:dimgray;transition:color 0.3s ease-in}@media screen and (max-width: 45rem){header li{display:inline;margin-right:1rem}.logo{padding-bottom:1rem}header ul{border-bottom:1px solid #edf2f7;padding-bottom:2rem}nav ul{border-right:0px}.photos ul{margin-top:0.5rem}main{padding:0 2rem}}section{flex-grow:999;display:flex;flex-direction:column}figcaption{font-size:smaller}.bio{margin-bottom:1rem}::selection{background-color:#fffba0;color:#333}.post-nav{display:flex;position:relative;margin-top:0;border-top:2px solid var(--light-text-color);line-height:1.4}.post-nav .post-nav-item{border-bottom:0;padding-bottom:10px;width:50%;padding-top:10px;text-decoration:none;box-sizing:border-box}.post-nav .post-nav-item .post-title{color:var(--main-text-color)}.post-nav .post-nav-item:hover .post-title,.post-nav .post-nav-item:focus .post-title{color:var(--link-color);opacity:0.9}.post-nav .post-nav-item .nav-arrow{font-size:17px;color:var(--main-text-color);margin-bottom:3px;font-weight:bold}.post-nav .post-nav-item:nth-child(1){padding-left:0;padding-right:20px}.post-nav .post-nav-item:nth-child(2){text-align:center;padding-left:20px;padding-right:20px}.post-nav .post-nav-item:nth-child(3){text-align:right;padding-right:0;padding-left:20px}.tags ul{list-style:none;display:grid;grid-template-columns:auto auto auto auto auto auto;grid-template-rows:auto auto auto auto}.tags li{white-space:normal;text-overflow:ellipsis}.timeline{position:center;width:650px;margin:-6em auto;padding:1px;list-style-type:none}@media (max-width: 860px){.timeline{width:100%}}.timeline:before{position:absolute;left:50%;top:0;content:' ';display:block;width:6px;height:100%;margin-left:-3px;background:var(--light-text-color);z-index:5}@media (max-width: 375px){.timeline:before{height:150%}}.timeline li{padding:2em 0}@media (max-width: 860px){.timeline li{padding:2em 0}}.timeline li::after{content:"";display:block;clear:both;visibility:hidden}.direction-l{position:relative;width:287px;float:left;text-align:right}@media (max-width: 860px){.direction-l{float:none;width:100%;text-align:center}}.direction-l .flag{color:#333;box-shadow:-1px 1px 1px rgba(0,0,0,0.52)}.direction-l .flag:after{content:"";position:absolute;left:100%;top:50%;height:0;width:0;margin-top:-8px;border:solid transparent;border-left-color:#f8f8f8;border-width:8px;pointer-events:none}@media (max-width: 860px){.direction-l .flag:after{content:"";position:absolute;left:50%;top:-8px;height:0;width:0;margin-left:-8px;border:solid transparent;border-bottom-color:#fff;border-width:8px;pointer-events:none}}.direction-l .time-wrapper{float:left}@media (max-width: 860px){.direction-l .time-wrapper{float:none}}.direction-r{position:relative;width:293px;float:right;text-align:left}@media (max-width: 860px){.direction-r{float:none;width:100%;text-align:center}}.direction-r .flag{color:#333;box-shadow:1px 1px 1px rgba(0,0,0,0.52)}.direction-r .flag:after{content:"";position:absolute;right:100%;top:50%;height:0;width:0;margin-top:-8px;border:solid transparent;border-right-color:#f8f8f8;border-width:8px;pointer-events:none}@media (max-width: 860px){.direction-r .flag:after{content:"";position:absolute;left:50%;top:-8px;height:0;width:0;margin-left:-8px;border:solid transparent;border-bottom-color:#fff;border-width:8px;pointer-events:none}}.direction-r .flag:before{left:-40px}.direction-r .time-wrapper{float:right}@media (max-width: 860px){.direction-r .time-wrapper{float:none}}.flag-wrapper{position:relative;display:inline-block;text-align:center}@media (max-width: 860px){.flag-wrapper{text-align:center}}.flag-wrapper .flag{position:relative;display:inline;background:#f8f8f8;padding:6px 10px;border-radius:5px;font-weight:600;text-align:left}@media (max-width: 860px){.flag-wrapper .flag{background:#fff;z-index:15}}.direction-l .flag:before,.direction-r .flag:before{position:absolute;top:60%;right:-40px;content:' ';display:block;width:12px;height:12px;margin-top:-10px;background:#fff;border-radius:10px;border:4px solid var(--link-color);z-index:10}@media (max-width: 860px){.direction-l .flag:before,.direction-r .flag:before{position:absolute;top:-30px;left:53%;content:' ';display:block;margin-left:-10px}}.time-wrapper{display:inline;line-height:1em;font-size:0.66666em;color:var(--link-color);vertical-align:middle}@media (max-width: 860px){.time-wrapper{display:block;position:relative;margin:4px 0 0 0;z-index:14}}.time-wrapper .time{display:inline-block;padding:4px 6px;background:#f8f8f8}.desc{margin:1em 0.2em -3.5em 0;font-size:0.9em;line-height:1.5em}.desc a{color:var(--link-color);text-decoration:none}.desc a:hover{text-decoration:underline}@media (max-width: 860px){.desc{position:relative;margin:1em 1em 0 1em;padding:1em;background:var(--code-bg-color);box-shadow:0 0 1px rgba(0,0,0,0.2);z-index:15}}</style></head><body><main><section class="post"><div class="flex-row-between"> <a href="http://zelenyy.info/"><< back</a><div></div></button></div><time datetime="2022-06-16T00:00:00+10:00">Jun 16, 2022</time><h1 class="title"> Home Networking Part 2 - Software</h1><!-- <span class="meta"> </span> --><p>Welcome to the second part of my series of posts surrounding my network setup. This part is all about software and the different services I host on my network and why. Like before, I’ll start with a diagram of my current network.</p><p><img src="/img/2022-06-16-Homelab-Part2-Software/Layout.png" alt="Current network layout" /></p><h2 id="pi-hole"> Pi-hole <a href="#pi-hole">#</a></h2><p>Currently on my network I only really have 2 servers doing anything, one is my Proxmox server and the other is my Raspberry Pi. As the header suggests, it currently runs Pi-hole on top of ubuntu and in my opinion Pi-Hole is one of the best things to do with a raspberry pi. Currently my pi blocks around 500,000 domains all from a few different blocklists (which I found <a href="https://firebog.net/">here</a>). As well as blocking domains Pi-hole practically acts as a DNS server which means I can set internal domain names. This feature I use A LOT and it makes connecting to Proxmox and my VMs so much easier.</p><h2 id="proxmox"> Proxmox <a href="#proxmox">#</a></h2><p>The other server running on my network currently is my Proxmox box. I wish I had an interesting reason for choosing Proxmox but rather it was because a friend told me it was ok, which it is. As seen on my network diagram there are 2 VMs and a container which I run 24/7 but I also have other VMs powered off which I use occasionally for hosting game servers or for testing. One really cool feature of Proxmox is the fact that it gives each of my VMs and containers a unique IP address so I can assign DNS records super easily.</p><h4 id="fileserver"> Fileserver <a href="#fileserver">#</a></h4><p>The first of the virtualised services within Proxmox is my fileserver. At the moment it hosts an SMB server for basic file transfer, a plex server so I can use it seamlessly with my Chromecast and finally an SSH server for access. I know that SMB isn’t the most secure protocol to use but I used it here because it is firewalled to only accept internal traffic and the low latency and increased performance with small files makes it the favourable choice for me as I stream movies and transfer a lot of documents at once. Plex was an obvious choice; I know there are other media players but plex is very streamlined and again I wanted something that works out of the box with my Chromecast. The next goal for my fileserver is to move it to a dedicated system with more drives so I can implement RAID in case one of my drives fail. This would also allow me to run TrueNAS on bare metal so I can better protect the system and not have to deal with virtualisation overhead.</p><h4 id="husky"> Husky <a href="#husky">#</a></h4><p>You might look at my diagram and ask, “what the hell is husky?”, the answer to that is it is my rudimentary bastion box and general purpose VM. Although it does run a webserver (which was me mainly figuring out nginx configs) it also runs a dynamic DNS client and acts as a proxy so I can access my network remotely. The way I have this configured is to only accept SSH connections from a specific static IP of a virtual private server which I rent. This way the only way to access my network remotely is to hop through 2 proxy servers. I also disabled password authentication and have only generated a total of 2 keys (one for my desktop, one for my laptop) which I believe to be very secure. If it isn’t however and I have made some security/network engineers very upset, please tell me!</p><h4 id="home-assistant"> Home assistant <a href="#home-assistant">#</a></h4><p>The final service I host on my network is home assistant. Anyone who enjoys the luxury of smart home stuff has probably heard of home assistant, but for those who haven’t, it is basically a server which acts as a universal hub for smart devices which provides a web interface, automations, <a href="https://www.home-assistant.io">etc</a>. I currently have connected all my lights to it and set up some basic automations and scenes so I can turn on/off lights as well as set the colour with a single button press. Also mentioned, it also has a web interface which is customizable, so I have set it up to have my common scenes as well as controls for my lamp and basic weather updates.</p><p><img src="/img/2022-06-16-Homelab-Part2-Software/home_assistant.png" alt="Current network layout" /></p><h2 id="conclusion"> Conclusion <a href="#conclusion">#</a></h2><p>This concludes this episode of my home network tour. As stated before, my next goals are to get a dedicated NAS as well as to set up proper backups from my computer but also important files from my NAS to the cloud. That will probably be my next update but if something else comes up before then, there will likely be an update for it!</p></section><section><nav class="post-nav"> <a class="post-nav-item post-nav-prev" href="/posts/2022/06/06/homelab-part1-hardware"><div class="nav-arrow">Previous</div><span class="post-title">Home Networking Part 1 - Hardware</span> </a> <a class="post-nav-item post-nav-home" href="http://zelenyy.info"><div class="nav-arrow">Home</div><span class="post-title">Back to home</span> </a> <a class="post-nav-item post-nav-next" href="/posts/2022/06/22/i2c-display"><div class="nav-arrow">Next</div><span class="post-title">Using an I2C OLED to display Pi-Hole stats</span> </a></nav></section></main><script> document.documentElement.setAttribute('data-theme', 'light'); </script><footer class="social-footer"><p>Patrick Fennell || Zelenyy</p><a href="mailto:patrickfennell3@gmail.com">patrickfennell3@gmail.com</a><div class="social-footer-icons"> <a href="https://github.com/mrmelonson" title="Github!" target="_blank" rel="noopener noreferrer"><i class="fa fa-github" aria-hidden="true"></i></a> <a href="https://github.com/mrmelonson/zelenyy_blog" title="Browse the code!" target="_blank" rel="noopener noreferrer"><i class="fa fa-code" aria-hidden="true"></i></a> <a href="https://twitter.com/Zelenyy_is_cool" title="Twitter!" target="_blank" rel="noopener noreferrer"><i class="fa fa-twitter" aria-hidden="true"></i></a> <a href="https://www.linkedin.com/in/patrick-fennell-19a71016a/" title="Linked In!" target="_blank" rel="noopener noreferrer"><i class="fa fa-linkedin" aria-hidden="true"></i></a> <a href="" title="Mastodon!" rel="me"><i class="fa-brands fa-mastodon">M</i></a></div></footer></body></html>
